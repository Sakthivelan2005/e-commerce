{"ast":null,"code":"import{useEffect,useState}from'react';import loading from'./Animations/Loading.gif';import'./ProductList.css';import{Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ProductList(_ref){let{selectedCountry,countryToCurrency,countryToCurrencySymbol,API_URL}=_ref;const URL=API_URL;const getCurrency=country=>countryToCurrency[country]||'INR';const getSymbol=country=>countryToCurrencySymbol[country]||'‚Çπ';const[exchangeRate,setExchangeRate]=useState(null);const[products,setProducts]=useState([]);const[isLoading,setIsLoading]=useState(true);const API_Currency='https://v6.exchangerate-api.com/v6/bc074b7ceb0708ddab718f71/latest/USD';useEffect(()=>{const fetchCurrency=async()=>{try{const response=await fetch(API_Currency);if(!response.ok)throw Error(\"Data not received\");const currency=await response.json();setExchangeRate(currency.conversion_rates);}catch(err){console.log(err.message);}};fetchCurrency();},[]);useEffect(()=>{const fetchItems=async()=>{try{const response=await fetch(URL);if(!response.ok)throw Error(\"Data not received\");const listItems=await response.json();console.log(listItems);setProducts(listItems);}catch(err){console.log(err.message);}finally{setIsLoading(false);}};fetchItems();},[URL]);const currencyCode=getCurrency(selectedCountry);const currencySymbol=getSymbol(selectedCountry);const rate=exchangeRate?exchangeRate[currencyCode]:1;const UniqueCategory=[...new Set(products.map(p=>p.category))];return isLoading?/*#__PURE__*/_jsx(\"img\",{src:loading,alt:\"Loading...\"}):/*#__PURE__*/_jsx(\"div\",{style:{paddingTop:'55px'},children:UniqueCategory.map(category=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:category}),/*#__PURE__*/_jsx(\"div\",{className:\"category\",children:/*#__PURE__*/_jsx(\"ul\",{children:products.filter(p=>p.category===category).map(product=>{const ProductRate=(product.price*rate).toFixed(2);return/*#__PURE__*/_jsx(Link,{to:`/product/${product.id}`,className:\"products\",children:/*#__PURE__*/_jsx(\"li\",{className:\"product-card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"category-block\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"product-labels\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label category-label\",children:product.category}),product.rating.count>100&&/*#__PURE__*/_jsx(\"span\",{className:\"label popular-label\",children:\"\\uD83D\\uDD25 Popular\"}),product.id>15&&/*#__PURE__*/_jsx(\"span\",{className:\"label new-label\",children:\"\\uD83C\\uDD95 New Arrival\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:`${product.category}`,children:[/*#__PURE__*/_jsx(\"img\",{src:product.image,alt:product.title,width:200,height:300}),/*#__PURE__*/_jsxs(\"h3\",{children:[product.title.slice(0),\"...\"]}),/*#__PURE__*/_jsxs(\"h5\",{children:[currencySymbol,\" \",ProductRate]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-details-icons\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u2B50 \",product.rating.rate,\" \\xA0\\xA0 \\uD83D\\uDDE8\\uFE0F \",product.rating.count,\" reviews\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uD83D\\uDCC4 \",product.description.slice(0,40),\"...\"]})]})]})]})},product.id)});})})})]},category))});}export default ProductList;","map":{"version":3,"names":["useEffect","useState","loading","Link","jsx","_jsx","jsxs","_jsxs","ProductList","_ref","selectedCountry","countryToCurrency","countryToCurrencySymbol","API_URL","URL","getCurrency","country","getSymbol","exchangeRate","setExchangeRate","products","setProducts","isLoading","setIsLoading","API_Currency","fetchCurrency","response","fetch","ok","Error","currency","json","conversion_rates","err","console","log","message","fetchItems","listItems","currencyCode","currencySymbol","rate","UniqueCategory","Set","map","p","category","src","alt","style","paddingTop","children","className","filter","product","ProductRate","price","toFixed","to","id","rating","count","image","title","width","height","slice","description"],"sources":["D:/e-commerce/client/src/Pages/ProductList.js"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport loading from './Animations/Loading.gif';\r\nimport './ProductList.css';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction ProductList({ selectedCountry, countryToCurrency, countryToCurrencySymbol, API_URL }) {\r\n  const URL = API_URL;\r\n\r\n  const getCurrency = (country) => countryToCurrency[country] || 'INR';\r\n  const getSymbol = (country) => countryToCurrencySymbol[country] || '‚Çπ';\r\n\r\n  const [exchangeRate, setExchangeRate] = useState(null);\r\n  const [products, setProducts] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const API_Currency = 'https://v6.exchangerate-api.com/v6/bc074b7ceb0708ddab718f71/latest/USD';\r\n\r\n  useEffect(() => {\r\n    const fetchCurrency = async () => {\r\n      try {\r\n        const response = await fetch(API_Currency);\r\n        if (!response.ok) throw Error(\"Data not received\");\r\n        const currency = await response.json();\r\n        setExchangeRate(currency.conversion_rates);\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n    fetchCurrency();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const fetchItems = async () => {\r\n      try {\r\n        const response = await fetch(URL);\r\n        if (!response.ok) throw Error(\"Data not received\");\r\n        const listItems = await response.json();\r\n        console.log(listItems);\r\n        setProducts(listItems);\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    fetchItems();\r\n  }, [URL]);\r\n\r\n  const currencyCode = getCurrency(selectedCountry);\r\n  const currencySymbol = getSymbol(selectedCountry);\r\n  const rate = exchangeRate ? exchangeRate[currencyCode] : 1;\r\n  const UniqueCategory = [...new Set(products.map(p => p.category))];\r\n\r\n  return isLoading ? (\r\n    <img src={loading} alt='Loading...' />\r\n  ) : (\r\n    <div style={{ paddingTop: '55px' }}>\r\n      {UniqueCategory.map((category) => (\r\n        <div key={category}>\r\n          <h2>{category}</h2>\r\n          <div className='category'>\r\n            <ul>\r\n              {products.filter(p => p.category === category).map((product) => {\r\n                const ProductRate = (product.price * rate).toFixed(2);\r\n                return (\r\n                    <Link to={`/product/${product.id}`} className=\"products\">\r\n                  <li key={product.id} className=\"product-card\">\r\n                      <div className=\"category-block\">\r\n                        <div className=\"product-labels\">\r\n                          <span className=\"label category-label\">{product.category}</span>\r\n                          {product.rating.count > 100 && <span className=\"label popular-label\">üî• Popular</span>}\r\n                          {product.id > 15 && <span className=\"label new-label\">üÜï New Arrival</span>}\r\n                        </div>\r\n\r\n                        <div className={`${product.category}`}>\r\n                          <img src={product.image} alt={product.title} width={200} height={300} />\r\n                          <h3>{product.title.slice(0, )}...</h3>\r\n                          <h5>{currencySymbol} {ProductRate}</h5>\r\n\r\n                          <div className=\"product-details-icons\">\r\n                            <p>‚≠ê {product.rating.rate} &nbsp;&nbsp; üó®Ô∏è {product.rating.count} reviews</p>\r\n                            <p>üìÑ {product.description.slice(0, 40)}...</p>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                       </li>\r\n                    </Link>\r\n                 \r\n                );\r\n              })}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProductList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}