{"ast":null,"code":"import{createContext,useContext,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";const CartContext=/*#__PURE__*/createContext();export function Provider(_ref){let{children}=_ref;const[cartItems,setCartItems]=useState([]);const addToCart=item=>{setCartItems(prevItems=>{const existingItemIndex=prevItems.findIndex(p=>p.id===item.id);if(existingItemIndex!==-1){const updatedItems=[...prevItems];updatedItems[existingItemIndex].quantity+=1;return updatedItems;}else{return[...prevItems,{...item,quantity:1,image:item.image,direction:'in'}];}});};const removeFromCart=id=>{setCartItems(prevItems=>{const item=prevItems.find(p=>p.id===id);if(item.quantity>1){return prevItems.map(p=>p.id===id?{...p,quantity:p.quantity-1}:p);}else{return prevItems.filter(p=>p.id!==id);}});};const CartCount=cartItems.reduce((total,item)=>total+item.quantity,0);console.log(cartItems);return/*#__PURE__*/_jsx(CartContext.Provider,{value:{cartItems,setCartItems,addToCart,removeFromCart,CartCount},children:children});}export function useCart(){return useContext(CartContext);}","map":{"version":3,"names":["createContext","useContext","useState","jsx","_jsx","CartContext","Provider","_ref","children","cartItems","setCartItems","addToCart","item","prevItems","existingItemIndex","findIndex","p","id","updatedItems","quantity","image","direction","removeFromCart","find","map","filter","CartCount","reduce","total","console","log","value","useCart"],"sources":["D:/e-commerce/client/src/Pages/CartContext.js"],"sourcesContent":["import { createContext, useContext, useState } from 'react';\r\n\r\nconst CartContext = createContext();\r\n\r\nexport function Provider({ children }) {\r\n  const [cartItems, setCartItems] = useState([]);\r\n  const addToCart = (item) => {\r\n    setCartItems((prevItems) => {\r\n      const existingItemIndex = prevItems.findIndex(p => p.id === item.id);\r\n   \r\n      if (existingItemIndex !== -1) {\r\n        const updatedItems = [...prevItems];\r\n        updatedItems[existingItemIndex].quantity += 1;\r\n        return updatedItems;\r\n      } else {\r\n        return [...prevItems, { ...item, quantity: 1, image: item.image, direction: 'in' }];\r\n      }\r\n    });\r\n  };\r\n\r\nconst removeFromCart = (id) => {\r\n  setCartItems(prevItems => {\r\n    \r\n  \r\n    const item = prevItems.find(p => p.id === id);\r\n    if (item.quantity > 1) {\r\n      return prevItems.map(p =>\r\n        p.id === id ? { ...p, quantity: p.quantity - 1 } : p\r\n      );\r\n    } else {\r\n      return prevItems.filter(p => p.id !== id);\r\n    }\r\n  });\r\n};\r\n\r\n  const CartCount = cartItems.reduce((total, item) => total + item.quantity, 0);\r\n  console.log(cartItems);\r\n  return (\r\n    <CartContext.Provider value={{ cartItems, setCartItems, addToCart, removeFromCart,CartCount }}>\r\n      {children}\r\n    </CartContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useCart() {\r\n  return useContext(CartContext);\r\n}\r\n"],"mappings":"AAAA,OAASA,aAAa,CAAEC,UAAU,CAAEC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE5D,KAAM,CAAAC,WAAW,cAAGL,aAAa,CAAC,CAAC,CAEnC,MAAO,SAAS,CAAAM,QAAQA,CAAAC,IAAA,CAAe,IAAd,CAAEC,QAAS,CAAC,CAAAD,IAAA,CACnC,KAAM,CAACE,SAAS,CAAEC,YAAY,CAAC,CAAGR,QAAQ,CAAC,EAAE,CAAC,CAC9C,KAAM,CAAAS,SAAS,CAAIC,IAAI,EAAK,CAC1BF,YAAY,CAAEG,SAAS,EAAK,CAC1B,KAAM,CAAAC,iBAAiB,CAAGD,SAAS,CAACE,SAAS,CAACC,CAAC,EAAIA,CAAC,CAACC,EAAE,GAAKL,IAAI,CAACK,EAAE,CAAC,CAEpE,GAAIH,iBAAiB,GAAK,CAAC,CAAC,CAAE,CAC5B,KAAM,CAAAI,YAAY,CAAG,CAAC,GAAGL,SAAS,CAAC,CACnCK,YAAY,CAACJ,iBAAiB,CAAC,CAACK,QAAQ,EAAI,CAAC,CAC7C,MAAO,CAAAD,YAAY,CACrB,CAAC,IAAM,CACL,MAAO,CAAC,GAAGL,SAAS,CAAE,CAAE,GAAGD,IAAI,CAAEO,QAAQ,CAAE,CAAC,CAAEC,KAAK,CAAER,IAAI,CAACQ,KAAK,CAAEC,SAAS,CAAE,IAAK,CAAC,CAAC,CACrF,CACF,CAAC,CAAC,CACJ,CAAC,CAEH,KAAM,CAAAC,cAAc,CAAIL,EAAE,EAAK,CAC7BP,YAAY,CAACG,SAAS,EAAI,CAGxB,KAAM,CAAAD,IAAI,CAAGC,SAAS,CAACU,IAAI,CAACP,CAAC,EAAIA,CAAC,CAACC,EAAE,GAAKA,EAAE,CAAC,CAC7C,GAAIL,IAAI,CAACO,QAAQ,CAAG,CAAC,CAAE,CACrB,MAAO,CAAAN,SAAS,CAACW,GAAG,CAACR,CAAC,EACpBA,CAAC,CAACC,EAAE,GAAKA,EAAE,CAAG,CAAE,GAAGD,CAAC,CAAEG,QAAQ,CAAEH,CAAC,CAACG,QAAQ,CAAG,CAAE,CAAC,CAAGH,CACrD,CAAC,CACH,CAAC,IAAM,CACL,MAAO,CAAAH,SAAS,CAACY,MAAM,CAACT,CAAC,EAAIA,CAAC,CAACC,EAAE,GAAKA,EAAE,CAAC,CAC3C,CACF,CAAC,CAAC,CACJ,CAAC,CAEC,KAAM,CAAAS,SAAS,CAAGjB,SAAS,CAACkB,MAAM,CAAC,CAACC,KAAK,CAAEhB,IAAI,GAAKgB,KAAK,CAAGhB,IAAI,CAACO,QAAQ,CAAE,CAAC,CAAC,CAC7EU,OAAO,CAACC,GAAG,CAACrB,SAAS,CAAC,CACtB,mBACEL,IAAA,CAACC,WAAW,CAACC,QAAQ,EAACyB,KAAK,CAAE,CAAEtB,SAAS,CAAEC,YAAY,CAAEC,SAAS,CAAEW,cAAc,CAACI,SAAU,CAAE,CAAAlB,QAAA,CAC3FA,QAAQ,CACW,CAAC,CAE3B,CAEA,MAAO,SAAS,CAAAwB,OAAOA,CAAA,CAAG,CACxB,MAAO,CAAA/B,UAAU,CAACI,WAAW,CAAC,CAChC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}